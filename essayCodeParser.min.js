var lastfontstyle="font-size:15px;font-weight:normal;color:#000000;text-align:justify;text-decoration:none;font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif;",inlabelstyle="",countFormula,countCode,countInlineCode,Formulas,Codes,inlineCodes;function existFunction(funcName){try{if("function"==typeof eval(funcName))return!0}catch(e){}return!1}function setfontstyle(e){for(e=e.replace(/[\(\)]/g,""),args=e.split(","),dargs=new Array,dargs[0]="1em",dargs[1]="normal",dargs[2]="#000000",dargs[3]="justify",dargs[4]="none",dargs[5]="-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif",i=0;i<6&&!(i>=args.length);i++)""!==args[i]&&(dargs[i]=args[i]);return lastfontstyle="font-size:"+dargs[0]+";font-weight:"+dargs[1]+";color:"+dargs[2]+";text-align:"+dargs[3]+";text-decoration:"+dargs[4]+";font-family:"+dargs[5]+";",'</font><font style="'+(inlabelstyle=lastfontstyle.replace(/#/,",").replace(/"/,"&quot;"))+'">'}function image_parser(e){return""==(e=e.replace(/[\(\)]/g,""))?"Argument wrong Exception":(args=e.split(","),args.length>2?"Argument wrong Exception":1==args.length?'<img src="'+args[0]+'" width="100%">':'<img src="'+args[0]+'" width="'+args[1]+'">')}function title_parser(e){return e=e.replace(/[\(\)]/g,""),title=""==e?"sample":e,"</font></p><center><h1>"+title+'</h1></center><p><font style="'+inlabelstyle+'">'}function smalltitle_parser(e){return e=e.replace(/[\(\)]/g,""),title=""==e?"sample":e,"</font></p><center><h3>"+title+'</h3></center><p><font style="'+inlabelstyle+'">'}function beginbox_parser(e){if(""==(e=e.replace(/[\(\)]/g,"")))return"</font></p><div><p><font>";for(args=e.split(","),dargs=new Array,dargs[0]="100%",dargs[1]="center",dargs[2]="transparent",i=0;i<3&&!(i>=args.length);i++)""!==args[i]&&(dargs[i]=args[i]);return"center"!=dargs[1]&&"default"!=dargs[1]?"PARSE ERROR":(arg="width:"+dargs[0]+";"+("center"==dargs[1]?"margin:0 auto 0 auto;":"")+"background-color:"+dargs[2]+";",'</font></p><div style="'+arg+'"><p><font style="'+inlabelstyle+'">')}function exp(e){return"\\\\"==(e=e.replace(/ /g,""))?"<br>":"\\par"==e?'</font></p><p style="text-indent:2em"><font style="'+inlabelstyle+'">':"\\backslash"==e?"\\":"\\backquote"==e?"`":"\\dollar"==e?"$":"\\endbox()"==e?'</font></p></div><p><font style="'+inlabelstyle+'">':"\\image"==e.substr(0,6)?"</font>"+image_parser(e.substr(6,e.length))+'<font style="'+inlabelstyle+'">':"\\title"==e.substr(0,6)?title_parser(e.substr(6,e.length)):"\\setfont"==e.substr(0,8)?setfontstyle(e.substr(8,e.length)):"\\beginbox"==e.substr(0,9)?beginbox_parser(e.substr(9,e.length)):"\\smalltitle"==e.substr(0,11)?smalltitle_parser(e.substr(11,e.length)):void 0}function htmlEncode(e){var t=document.createElement("div");null!=t.textContent?t.textContent=e:t.innerText=e;var n=t.innerHTML;return t=null,n}function formulaprocessor(e){return Formulas[countFormula]=e,"EFSOSRAMYUCLOADEPARSERSERIALNO"+(++countFormula-1).toString()+"ENDPPPVF"}function codeprocessor(e){return Codes[countCode]=htmlEncode(e.replace(/\\CODE/g,"")),"ECSOSDAEYCODEPARSERSERIALNO"+(++countCode-1).toString()+"ENDPPPVF"}function inlineprocessor(e){return inlineCodes[countInlineCode]=htmlEncode(e.replace(/`/g,"")),"ECSOSDAEYICNOLDIENPEARSERSERIALNO"+(++countInlineCode-1).toString()+"ENDPPPVF"}function formulaback(e){for(i=0;i<countFormula;i++)e=e.replace("EFSOSRAMYUCLOADEPARSERSERIALNO"+i.toString()+"ENDPPPVF",("</font> "+Formulas[i]+' <font style="'+inlabelstyle+'">').replace(/\$/g,"$$$$"));return e}function codeback(e){for(i=0;i<countCode;i++)e=e.replace("ECSOSDAEYCODEPARSERSERIALNO"+i.toString()+"ENDPPPVF",('</font></p><pre style="width:100%;background-color:#1E1E1E;color:#D4D4D4;font-family:&quot;Consolas&quot;,&quot;Courier New&quot;">'+Codes[i]+'</pre><p><font style="'+inlabelstyle+'">').replace(/\$/g,"$$$$"));return e}function inlinecodeback(e){for(i=0;i<countInlineCode;i++)e=e.replace("ECSOSDAEYICNOLDIENPEARSERSERIALNO"+i.toString()+"ENDPPPVF",('</font><font style="background-color:#eeeeee;color:#020202;border:1px solid black;font-family:&quot;Consolas&quot;,&quot;Courier New&quot;">'+inlineCodes[i]+'</font><font style="'+inlabelstyle+'">').replace(/\$/g,"$$$$"));return e}function parse(e){return Formulas=new Array,Codes=new Array,inlineCodes=new Array,countFormula=0,countCode=0,countInlineCode=0,inlabelstyle=(lastfontstyle='font-size:1em;font-weight:normal;color:#000000;text-align:left;text-decoration:none;font-family:"黑体","sans-serif";').replace(/"/,"&quot;"),e=(e=(e=(e=e.replace(/`[\s\S]*?`/g,inlineprocessor)).replace(/\\CODE[\s\S]*?\\CODE/g,codeprocessor)).replace(/\$\$[\s\S]*?\$\$/g,formulaprocessor)).replace(/\$[\s\S]*?\$/g,formulaprocessor),end="<p><font>"+e.replace(/\\[a-zA-Z-\\]+(\([\s\S]*?\))?/g,exp)+"</font></p>",console.log(end),end=formulaback(end),end=inlinecodeback(end),end=codeback(end),end}