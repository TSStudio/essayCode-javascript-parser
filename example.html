<!DOCTYPE html>
<html style="height:100%;">
    <head>
        <script src="essayCodeParser.js"></script>
        <script>
            function refreshEssay(){
                essayArea=document.getElementById("essay");
                inputArea=document.getElementById("inputarea");
                essayArea.innerHTML=parse(inputArea.value);
                if(existFunction("renderMathInElement")){
                    renderMathInElement(document.body,{
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false}
                    ],
                    throwOnError : false
                    });
                }
            }
        </script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
    </head>
    <body style="height:100%;margin:0;">
        <div style="display:inline-block;width:49%;height:100%;vertical-align:top;">
            <form style="height:100%">
                <textarea onchange="refreshEssay()" id="inputarea" style="width:100%;height:100%;"></textarea>
            </form>
        </div>
        <div id="essay" style="display:inline-block;width:49%;border:3px solid black;vertical-align:top;">
        </div>
    </body>
</html>